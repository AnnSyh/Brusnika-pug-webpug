(()=>{var e,o,t;e=jQuery,(o={}).window=e(window),o.html=e("html"),o.body=e("body",o.html),o.page=e(".page",o.body),t={init:function(){var e=this;e.header.init(),e.catalog.init(),e.note.init(),e.searchForm.init(),e.glossary.init(),e.forms.init(),e.pager.init(),e.filter.init(),e.basket.init(),e.popups.init(),e.accordion.init(),e.tabs.init(),e.mobile.init(),e.tooltips.init(),e.rotate.init()},header:{$btn:null,$menu:null,$searchMenu:null,$buyerMenu:null,$basketMenu:null,$sizeMenu:null,$links:null,$blocks:null,$pageNote:null,opened:!1,openedSearchMenu:!1,openedBuyerhMenu:!1,openedBasketMenu:!1,openedSizeMenu:!1,showTimer:!1,hideTimer:!1,init:function(){var t=this;t.$simplebar=e(".simplebar",o.page),t.$catalogItemSlider=e(".catalog-items--slider",o.page),t.$sizeOpenBtn=e(".size-open",o.page),t.$sizeMenu=e("#catalog-size",o.page),t.$basketOpenBtn=e(".basket-open",o.page),t.$basketMenu=e("#catalog-basket",o.page),t.$popupBasketOpenBtn=e("button.basket-open",o.page),t.$popupBasketMenu=e("#catalog-basket",o.page),t.$dropdown=e(".header-menu__item-dropdown",o.page),t.$buyerMenu=e("#catalog-buyer-menu",o.page),t.$buyerMenuSections=e(".menu-sections",o.page),t.$btn=e(".catalog-open",o.page),t.$menu=e("#catalog-menu",o.page),t.$searchBtn=e(".catalog-search-open",o.page),t.$searchMenu=e("#catalog-search-menu",o.page),t.$links=e(".catalog-menu-section-item.submenu",t.$menu),t.$blocks=e(".catalog-menu-conten-item",t.$menu),t.$searchBtn.on("click",(function(o){var n=e(this);console.log("block = ",n),o.preventDefault(),o.stopPropagation(),t.openedSearchMenu?t.closeSearchMenu():t.openSearchMenu(),t.openedSearchMenu?n.addClass("open-search"):n.removeClass("open-search"),t.$catalogItemSlider.slick("unslick"),t.$catalogItemSlider.slick({slidesToShow:4,slidesToScroll:2,dots:!1,arrows:!0,infinite:!0,autoplay:!1,speed:500,arrows:!1,responsive:[{breakpoint:480,settings:{slidesToShow:3}}]})})),t.$btn.on("click",(function(e){e.preventDefault(),e.stopPropagation(),t.opened?t.closeMenu():t.openMenu()})),t.$basketOpenBtn.on("click",(function(e){console.log("$basketOpenBtn"),e.preventDefault(),e.stopPropagation(),t.openedBasketMenu?t.closeBasketMenu():t.openBasketMenu()})),t.$popupBasketOpenBtn.on("click",(function(e){console.log("popupBasketOpenBtn"),e.preventDefault(),e.stopPropagation(),t.openedBasketMenu?t.closeBasketMenu():t.openBasketMenu()})),t.$sizeOpenBtn.on("click",(function(e){console.log("sizeOpenBtn"),e.preventDefault(),e.stopPropagation(),t.openedSizeMenu?t.closeSizeMenu():t.openSizeMenu()})),o.window.on("click",(function(o){e(".only-desktop_header-menu .open-search").length||e(".only-desktop_header-menu").removeClass("open-search"),e(o.target).closest("#catalog-menu").length||t.opened&&t.closeMenu(),e(o.target).closest("#catalog-search-menu").length||t.openedSearchMenu&&t.closeSearchMenu(),e(o.target).closest("#catalog-basket").length||t.openedBasketMenu&&(o.target.classList.contains("jcf-option")||t.closeBasketMenu()),e(o.target).closest("#catalog-size").length||t.openedSizeMenu&&t.closeSizeMenu()})),e(t.$dropdown,t.$buyerMenu).on("mouseenter click",(function(o){console.log("наведение"),o.preventDefault(),o.stopPropagation(),e(this),t.openBuyerMenu()})),e(t.$buyerMenuSections,t.$dropdown).on("mouseleave",(function(o){console.log("уход = ",t.$buyerMenuSections),o.preventDefault(),o.stopPropagation(),e(this),t.closeBuyerMenu()})),t.$links.on("mouseover",(function(n){n.preventDefault(),n.stopPropagation();var a=e(this),i=e(a.attr("href"),o.page);t.$links.removeClass("active"),t.$blocks.removeClass("active"),i.addClass("active"),a.addClass("active")}))},openMenu:function(){var e=this;console.log("111openMenu"),e.$menu.addClass("catalog-menu_visible"),e.$btn.addClass("active"),e.$buyerMenu.hide(),o.body.removeClass("dropdown"),o.body.removeClass("search-open"),o.body.removeClass("show-filter"),o.body.addClass("catalog-open"),e.opened=!0},closeMenu:function(){var e=this;console.log("111closeMenu"),e.$menu.removeClass("catalog-menu_visible"),e.$btn.removeClass("active"),o.body.removeClass("catalog-open"),e.opened=!1},openSearchMenu:function(){var e=this;e.$searchMenu.show(),e.$buyerMenu.hide(),o.body.removeClass("dropdown"),o.body.removeClass("search-open"),o.body.removeClass("show-filter"),o.body.addClass("search-open"),e.openedSearchMenu=!0},closeSearchMenu:function(){this.$searchMenu.hide(),o.body.removeClass("search-open"),this.openedSearchMenu=!1},openBasketMenu:function(){var e=this;console.log("2222openBasketMenu"),e.$basketMenu.addClass("basket-menu_visible"),e.$basketOpenBtn.addClass("active"),e.$buyerMenu.hide(),o.body.removeClass("dropdown"),o.body.removeClass("search-open"),o.body.removeClass("show-filter"),o.body.addClass("basket-open"),e.openedBasketMenu=!0},closeBasketMenu:function(){var e=this;console.log("closeBasketMenu"),e.$basketMenu.removeClass("basket-menu_visible"),e.$basketOpenBtn.removeClass("active"),o.body.removeClass("basket-open"),e.openedBasketMenu=!1},openBuyerMenu:function(){console.log("openBuyerMenu");var e=this;e.$buyerMenu.hide(),o.body.removeClass("dropdown"),o.body.removeClass("search-open"),o.body.removeClass("show-filter"),e.$buyerMenu.show(),o.body.addClass("dropdown"),e.openedBuyerhMenu=!0},closeBuyerMenu:function(){console.log("closeBuyerMenu"),this.$buyerMenu.hide(),o.body.removeClass("dropdown"),this.openedBuyerhMenu=!1},openSizeMenu:function(){console.log("openSizeMenu 111");var e=this;e.$sizeMenu.addClass("size-menu_visible"),e.$sizeOpenBtn.addClass("active"),o.body.removeClass("dropdown"),o.body.removeClass("size-open"),o.body.removeClass("show-filter"),o.body.addClass("size-open"),e.openedSizeMenu=!0},closeSizeMenu:function(){console.log("closeSizeMenu"),this.$sizeMenu.removeClass("size-menu_visible"),o.body.removeClass("size-open"),this.openedSizeMenu=!1}},tooltips:{init:function(t){t||(t=o.page),e("[data-tooltip]",t).each((function(){var o=e(this),t=o.data("tooltip");o.tooltipster(e.extend({content:t.dest?e(t.dest):o.attr("title"),contentAsHTML:!0,animation:"fade",animationDuration:100,arrow:!0,interactive:!0,side:"top",trigger:"custom",triggerOpen:{mouseenter:!0,click:!0,tap:!0},triggerClose:{click:!0,mouseleave:!0,touchleave:!0}},t))}))}},rotate:{init:function(){document.querySelectorAll(".catalog-item").forEach((e=>{const o=e.querySelector(".catalog-item-photo-holder img"),t=o.getAttribute("data-imgsrcnew"),n=o.getAttribute("data-imgsrc");e.addEventListener("mouseover",(e=>{t&&(o.src=t)})),e.addEventListener("mouseout",(()=>{n&&(o.src=n)}))}))}},basket:{init:function(){e(".open-promocode").on("click",(function(o){o.preventDefault(),e("#promocode-block").toggle()}))}},pager:{init:function(){o.page.on("click",".load-more",(function(o){var t=e(this);!function(o,t,n,a,i){o.addClass("loading"),e.ajax({url:t,data:{IS_AJAX:"Y"},success:function(t){var i=e("<div />").append(t),s=i.find(a),l=i.find(".page-toolbar");s.addClass("loaded-item loaded-item--hidden"),o.closest(".page-toolbar").remove(),n.append(s),l&&l.length&&n.append(l),setTimeout((function(){n.find(".loaded-item--hidden").removeClass("loaded-item--hidden").addClass("loaded-item--visible")}),50)}})}(t,t.attr("href"),e(t.data("container")),t.data("itemsselector")),o.preventDefault()}))}},catalog:{init:function(){var e=this;e.slider(),e.sorter(),e.product()},product:function(){console.log("product slider"),e(".product-photos-gallery").slick({slidesToShow:1,slidesToScroll:1,dots:!0,centerMode:!0,arrows:!1,variableWidth:!1,responsive:[{breakpoint:820,settings:{dots:!0,vertical:!1}}]}),e(".product-photos-nav").on("init",(function(o,t){t.$slides.on("click",(function(){t.$slides.removeClass("current"),e(".product-photos").slick("slickGoTo",t.$slides.index(e(this)))}))})).slick({slidesToShow:6,slidesToScroll:1,arrows:!0,infinite:!1,dots:!1,swipeToSlide:!0,focusOnSelect:!0,swipe:!1,vertical:!0,responsive:[{breakpoint:1230,settings:"unslick"}]}),e(".product-photos").on("init",(function(o,t){e(e(".product-photos-nav").slick("getSlick").$slides[0]).addClass("current")})).on("beforeChange",(function(o,t,n,a){e(".product-photos-nav").slick("getSlick").$slides.removeClass("current"),e(e(".product-photos-nav").slick("getSlick").$slides[a]).addClass("current"),e(".product-photos-nav").slick("slickGoTo",a)})).slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1,infinite:!1,vertical:!0,responsive:[{breakpoint:1230,settings:{dots:!0,vertical:!1}}]}),e(".product-media",o.page).on("init",(function(e,o){1==o.slideCount&&o.$dots.remove()})).slick({slidesToShow:1,slidesToScroll:1,mobileFirst:!0,arrows:!1,dots:!0,responsive:[{breakpoint:1100,settings:"unslick"}]})},sorter:function(){e(".catalog-toolbar-sorter",o.page).on("click",(function(o){o.stopPropagation(),e(this).toggleClass("active")})),o.window.on("click",(function(){e(".catalog-toolbar-sorter",o.page).removeClass("active")}))},slider:function(){e(".catalog-item-slider",o.body).each((function(){var o=e(this),t=o.data("params"),n=o.closest(".catalog-item"),a=n.find(".catalog-item-slider-arrow.prev"),i=n.find(".catalog-item-slider-arrow.next");o.on("init",(function(e,o){})).slick(e.extend({},{slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!0,infinite:!1,autoplay:!1,speed:500,prevArrow:a,nextArrow:i},t))})),e(".catalog-items--slider",o.body).each((function(){var o=e(this),t=o.data("params"),n=o.closest(".catalog"),a=n.find(".slider-arrow.prev"),i=n.find(".slider-arrow.next");o.on("init",(function(e,o){})).slick(e.extend({},{slidesToShow:5,slidesToScroll:2,dots:!1,arrows:!0,infinite:!1,autoplay:!1,speed:500,prevArrow:a,nextArrow:i,responsive:[{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,speed:200}},{breakpoint:480,settings:{slidesToShow:1.5,slidesToScroll:1,arrows:!1,speed:200}}]},t))})),e(".filter-items",o.body).each((function(){var o=e(this),t=o.data("params"),n=o.closest(".catalog"),a=n.find(".slider-arrow.prev"),i=n.find(".slider-arrow.next");o.on("init",(function(e,o){})).slick(e.extend({},{slidesToShow:5,slidesToScroll:2,dots:!1,arrows:!0,infinite:!1,autoplay:!1,speed:500,prevArrow:a,nextArrow:i,responsive:[{breakpoint:1e3,settings:{slidesToShow:4,slidesToScroll:1,arrows:!1,speed:200}},{breakpoint:500,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,speed:200}}]},t))}))}},filter:{outTimer:null,$filter:null,$tabs:null,$content:null,$headings:null,$currentHeading:null,$currenTab:null,brands:{itemWidth:250,rowsCount:7},all:{itemWidth:250,rowsCount:7,minItems:21},init:function(){var t=this;if(t.$toolbar=e(".catalog-toolbar",o.page),!t.$toolbar.length)return!1;t.$filter=e(".filter",o.page),t.$headings=e(".filter-heading-item",t.$filter),t.$content=e(".filter-content",o.page),t.$tabs=e(".filter-content-item",t.$page),t.tabs(),t.price(),t.handle(),e(".page-heading-filter-item",o.page).on("click",(function(o){o.preventDefault();var t=e(this);t.hasClass("page-heading-filter-item--clear")&&t.siblings().fadeOut(250),t.fadeOut(300)}))},tabs:function(){var t=this;t.$headings.on("click mouseover",(function(o){o.stopPropagation(),clearTimeout(t.outTimer);var n=e(this),a=t.$tabs.filter(n.data("filter"));t.$headings.removeClass("active"),n.addClass("active"),t.$currentHeading=n,t.$currenTab=a,t.$currenTab.hasClass("filter-content-item--brands")&&!t.$currenTab.hasClass("make")&&function(){t.$currenTab.find(".brands-indexes-rows").find(".brands-index-row-items").each((function(){var o=e(this),n=o.find(".filter-row"),a=Math.ceil(n.length/t.brands.rowsCount),i=parseInt(a*t.brands.itemWidth);o.css({"column-count":a,width:i})}));var o=t.$currenTab.find(".brands-indexes-scroll");o.data("scroll")?o.data("scroll").recalculate():o.data("scroll",new SimpleBar(o[0],{autoHide:!1})),e(".brands-letters-item",t.$currenTab).on("click",(function(n){n.preventDefault();var a=t.$currenTab.find(".brands-index-row[data-letter='"+e(this).data("letter")+"']");o.data("scroll").getScrollElement().scrollTo(a.position().left,0),a.addClass("blink"),setTimeout((function(){a.removeClass("blink")}),1500)})),t.$currenTab.addClass("make")}(),t.$currenTab.hasClass("filter-content-item--all")&&!t.$currenTab.hasClass("make")&&function(){var o=t.$currenTab.find(".filter-inner-tabs");function n(){var e=t.$currenTab.find(".filter-inner-content-item.active");if(e.data("scroll"))"no"!=e.data("scroll")&&e.data("scroll").recalculate();else{var o=e.find(".filter-rows"),n=o.find(".filter-row");if(n.length<=t.all.minItems)e.data("scroll","no");else{var a=Math.ceil(n.length/t.all.rowsCount);o.css({width:a*t.all.itemWidth,"column-count":a}),e.data("scroll",new SimpleBar(e.find(".scrollable-content")[0],{autoHide:!1}))}}}new SimpleBar(o.find(".scrollable-tabs")[0],{autoHide:!1}),e(".filter-inner-tab-item",t.$currenTab).on("click",(function(){e(".filter-inner-tab-item",t.$currenTab).removeClass("active"),e(".filter-inner-content-item",t.$currenTab).removeClass("active");var o=e(this);o.addClass("active"),e(o.data("innertab")).addClass("active"),n()})),n(),t.$currenTab.addClass("make")}(),t.$tabs.removeClass("active"),t.$currenTab.css("left",t.$currenTab.hasClass("filter-content-item--fullwidth")?0:n.position().left).addClass("active")})),t.$tabs.on("click",(function(e){e.stopPropagation()})).on("mouseenter",(function(){clearTimeout(t.outTimer)})),o.window.on("click",(function(){t.$currentHeading&&t.$currenTab&&(t.$currentHeading.removeClass("active"),t.$currenTab.removeClass("active"))})),t.$headings.add(t.$tabs).on("mouseleave",(function(){t.outTimer=setTimeout((function(){t.$headings.removeClass("active"),t.$tabs.removeClass("active")}),500)}))},handle:function(){var o=this;e("input:checkbox",o.$content).on("change",(function(){var t=e(this).closest(".filter-content-item"),n=o.$headings.filter("[data-filter='#"+t.attr("id")+"']");t.find("input:checked").length?n.addClass("selected"):n.removeClass("selected")})),e(".form-item--range",o.$content).on("change input",(function(t,n){var a=e(this).closest(".filter-content-item"),i=o.$headings.filter("[data-filter='#"+a.attr("id")+"']"),s=e(this);s[0].valueLow+","+s[0].valueHigh!=s.data("value")?i.addClass("selected"):i.removeClass("selected")}))},price:function(){function t(o,t){var a,i,s=e(".filter-price-field--from",t),l=e(".filter-price-field--to",t),r=e(".form-item--range",t),c=parseInt(r.attr("min")),d=parseInt(r.attr("max"));if("slider"==o)a=r[0].valueLow,i=r[0].valueHigh;else if("field"==o){((a=s.val().replace(/ /g,""))>=d||a<=c)&&(a=c),((i=l.val().replace(/ /g,""))>=d||i<=c)&&(i=d);var u=jcf.getInstance(r);u&&(u.values=[a,i],u.refresh())}s.val(n(a)),l.val(n(i))}function n(e){for(var o=e.toString(),t=[],n=o.length,a=0;n>=0;n--)t.push(o[n]),3==a&&(t.push(" "),a=0),a++;return t.reverse().join("")}e(".filter-price",o.filter).each((function(){var o;o=e(this),e(".form-item--range",o).on("change input",(function(e,n){t("slider",o)})),e(".filter-price-field",o).on("change",(function(){t("field",o)})),t("field",o)}))}},forms:{init:function(){var e=this;e.customize(),e.validation(),e.captcha.init()},captcha:{loaded:!1,init:function(){var t=this;e(".form-captcha-reload",o.page).on("click",(function(){var o=e(this),n=e(this).closest(".form-captcha").find("img");t.reload(o.data("href"),n)}))},reload:function(o,t){var n=this;if(n.loaded)return!1;e.ajax({url:o,dataType:"json",complete:function(){n.loaded=!1},success:function(e){t.attr("src",e.img)}})}},customize:function(t){t||(t=o.body),jcf.replace(e(".form-item--number",t)),jcf.replace(e(".form-item--checkbox",t)),jcf.replace(e(".form-item--radio",t)),jcf.replace(e(".form-item--range",t)),jcf.replace(e(".form-item--number",t)),jcf.replace(e(".jcf-scrollable",t)),e(".tooltip").tooltipster({contentCloning:!0,animation:"fall",delay:200,theme:"tooltipster-white",trigger:"click",side:"right",repositionOnScroll:!0,selfDestruction:!0,arrow:!1,interactive:!0}),e(".form-item--number").change((function(){const o=document.querySelector(".product-size-tooltip");var t=e(this).val();console.log("res = ",t),t>20&&e(this).val(t.substring(0,3)),20==t&&(console.log("productSizeTooltip = ",o),o.click())})),document.querySelectorAll(".show-on--map").forEach((e=>{e.addEventListener("click",(o=>{const t=e.getAttribute("data-shop");if(t){const e=shops[t].coords;console.log(" shopsCoords = ",e)}}))})),e(".product-like").on("click",(function(o){console.log("product-like"),document.querySelector(".product-add-favorites").click(),e(".product-like").toggleClass("active-like"),e(".btn.basket-open").innerHTML="В КОРЗИНЕ"})),document.querySelectorAll(".tooltip__close").forEach((e=>{console.log("forEach"),e.addEventListener("click",(e=>{console.log("addEventListener click")}))})),e(window).keypress((function(){e(".product-add-favorites").tooltipster("close"),e(".product-like").toggleClass("active-like")})),e(".form-item--calendar",t).each((function(){e(this).datepicker({autoClose:!0})})),e(".form-item--file",t).each((function(){var o,t;o=e(this),t=o.closest(".form-file-holder").find(".form-file-items"),o.fileupload({dataType:"json",done:function(o,n){var a="";console.log(n),e.each(n.result.files,(function(e,o){a+='<div class="form-file-item"><div class="form-file-item-title">'+o.name+"</div></div>"})),t.empty().append(a)}})})),jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!1,maxVisibleItems:10,fakeDropInBody:!1}),e(".form-item--select",t).each((function(){var o=e(this);o.attr("placeholder")&&o.prepend('<option class="hideme" selected>'+o.attr("placeholder")+"</option>"),jcf.replace(o)})),e(".form-item--select-top",t).each((function(){var o=e(this);o.attr("placeholder")&&o.prepend('<option class="hideme" selected>'+o.attr("placeholder")+"</option>"),jcf.replace(o)})),e(".password-show",t).on("click",(function(o){o.preventDefault();var t=e(this),n=t.closest(".form-row").find("input");t.toggleClass("show"),t.hasClass("show")?n.attr("type","text"):n.attr("type","password")})),e(".form-item--autocomplete",t).each((function(){var o=e(this),t=o.data("autocomplete");o.autocomplete({minChars:1,serviceUrl:t.href,dataType:"json",formatResult:function(e,o){return""+'<div class="autocomplete-item">'+e.value.replace(new RegExp(ALLTIME.utils.escapeRegExp(o),"g"),"<b>"+o+"</b>")+"</div>"}})}))},validation:function(t){t||(t=o.body),e.validator.addMethod("phoneRU",(function(e,o){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(o)||e.length>5&&e.match(/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{6,10}$/)}),"Error"),e.validator.setDefaults({errorClass:"form-item--error",errorElement:"span"}),e(".form",t).each((function(){var o=e(this),t={rules:{},messages:{}};o.find("[data-validation]").each((function(){var o=e(this),n=o.data("validation");t.messages[o.attr("name")]=n.message?n.message:"",t.rules[o.attr("name")]={},n.pattern&&(t.rules[o.attr("name")][n.pattern]=!0),n.mask&&o.mask(n.mask,{autoclear:!0,placeholder:"_"}),n.equalTo&&(t.rules[o.attr("name")].equalTo=n.equalTo),n.minlength&&(t.rules[o.attr("name")].minlength=n.minlength)})),o.data("success")&&(t.submitHandler=function(t){e.ajax({url:o.attr("action"),data:o.serialize()}),e.magnificPopup.open({items:{src:o.data("success"),type:"inline"},mainClass:"mfp-fade",removalDelay:300})},console.log(t)),o.validate(t)}))}},searchForm:{init:function(){e(".search-form input",o.page).on("input",(function(o){e(o.target).next().addClass("input__clear_visibility_visible")})),e(".search-form__clear").on("click",(function(e){e.preventDefault(),e.target.parentNode.querySelector(".search-form__input").value=""}))}},note:{init:function(){e(".page-note-close",o.page).on("click",(function(){e(this).closest(".page-note").hide()}))}},glossary:{init:function(){var t=e(".glossary-search",o.page),n=(e(".glossary-block",o.page),e(".glossary-block a",o.page));t.on("keyup",(function(){var o=t.val();o?(o=o.toLowerCase(),n.filter((function(){return-1==e(this).text().toLowerCase().indexOf(o)})).addClass("disabled")):n.removeClass("disabled")}))}},popups:{params:{type:"ajax",mainClass:"mfp-fade",removalDelay:300,tClose:"Закрыть (ESC)",tLoading:"Загрузка...",callbacks:{beforeOpen:function(){e(".mobile-nav-holder .mobile-close",o.body).trigger("click")},ajaxContentAdded:function(){t.forms.customize(e(this.container)),t.forms.validation(e(this.container)),e(".catalog-items--slider").slick("setPosition")},open:function(){t.forms.customize(e(this.container)),t.forms.validation(e(this.container)),e(".catalog-items--slider").slick("setPosition")},change:function(){}},fixedContentPos:!0,overflowY:"scroll"},init:function(t){var n=this;t||(t=o.body),e("[data-popup]",t).each((function(){var o,t;t=(o=e(this)).data("popup"),o.magnificPopup(e.extend({},n.params,t))})),o.body.on("click",".popup-close",(function(o){o.preventDefault(),e.magnificPopup.close()}))}},accordion:{$opened:!1,init:function(){var o=this;e(".accordion-item-heading").on("click",(function(){var t=e(this).closest(".accordion-item");if(t.hasClass("opened"))return o.hide(t),!1;o.$opened&&o.hide(o.$opened),o.show(t)}))},show:function(e){var o=e.find(".accordion-item-content");e.addClass("opened"),o.css("display","block"),o.addClass("show"),this.$opened=e},hide:function(e){var o=e.find(".accordion-item-content");e.removeClass("opened"),o.removeClass("show"),o.css("display","none"),this.$opened=!1}},tabs:{init:function(){o.body.on("click","[data-tab]",(function(t){var n=e(this);if(n.hasClass("active"))return!1;var a=e("[data-tabs='"+n.data("tabs")+"']",o.body),i=e(n.data("tab"),o.body),s=e(n.data("tabs"),o.body);a.removeClass("active"),n.addClass("active"),s.filter(".active").removeClass("active"),i.addClass("active")}))}},mobile:{init:function(){var e=this;e.nav(),e.submenu(),e.search(),e.filter(),e.mobileBlocks.init()},nav:function(){e(".header-burger",o.body).on("click",(function(){o.body.addClass("show-menu"),bodyScrollLock.disableBodyScroll(e(".mobile-nav-scroll-holder",o.body)[0]),bodyScrollLock.disableBodyScroll(e(".mobile-nav-scroll-inner",o.body)[0])})),e(".mobile-nav-holder .mobile-close",o.body).on("click",(function(){o.body.removeClass("show-menu"),bodyScrollLock.enableBodyScroll(e(".mobile-nav-scroll-holder",o.body)[0]),bodyScrollLock.enableBodyScroll(e(".mobile-nav-scroll-inner",o.body)[0])}))},search:function(){e(".header-toolbar-item--search").on("click",(function(){o.body.toggleClass("search-open")}))},submenu:function(){e(".mobile-nav-menu-item-holder--has-submenu",o.body).on("click",(function(o){o.preventDefault(),e(this).toggleClass("open")})),e(".footer-menu-title",o.body).on("click",(function(o){o.preventDefault(),e(this).parent().toggleClass("open")})),e(".footer-menu a.footer-menu-item--large, .mobile-nav-menu-item-holder--has-submenu nav a",o.body).on("click",(function(e){e.stopPropagation()}))},filter:function(){e(".mobile-filter-open",o.body).on("click",(function(e){e.preventDefault(),o.body.addClass("show-filter"),console.log("simplebar1");const t=document.querySelector(".basket-mobile-menu__body.test.simplebar");new SimpleBar(t,{autoHide:!1}),o.body.toggleClass("show-filter")})),e(".mobile-filter-close",o.body).on("click",(function(){o.body.removeClass("show-filter")})),e(".mobile-filter-item-heading",o.body).on("click",(function(){e(this).closest(".mobile-filter-item").toggleClass("open")})),e(".mobile-filter input:checkbox").on("change",(function(){var t=e(this).closest(".mobile-filter-item");t.find("input:checked").length?t.addClass("selected"):t.removeClass("selected"),e(".mobile-filter-item.selected").length?e(".mobile-filter-open",o.body).addClass("selected"):e(".mobile-filter-open",o.body).removeClass("selected")})),e(".mobile-filter .form-item--range").on("change input",(function(o,t){var n=e(this).closest(".mobile-filter-item"),a=e(this);a[0].valueLow+","+a[0].valueHigh!=a.data("value")?n.addClass("selected"):n.removeClass("selected")})),e(".mobile-filter .mobile-filter-heading-reset").on("click",(function(o){e(".mobile-filter-item").removeClass("selected")})),e(".mobile-filter button:submit").on("click",(function(t){t.preventDefault(),e(".mobile-filter-holder .mobile-close",o.body).trigger("click")}));var t=e(".mobile-filter-brands .filter-row");e(".brand-search-field").on("keyup",(function(){var o;(o=e(this).val().toLowerCase()).length<=1?t.show():t.each((function(){var t=e(this);$rt=t.find(".form-checkbox-title"),rtText=$rt.text().toLowerCase(),rtText.includes(o)?t.show():t.hide()}))}))},mobileBlocks:{$panel:!1,$blocksHolder:!1,$blocks:!1,$curBlock:!1,init:function(){var t=this;t.$panel=e(".mobile-nav",o.body),t.$blocksHolder=e(".mobile-blocks",t.$panel),t.$blocks=e(".mobile-block",t.$blocksHolder),t.$curBlock=t.$blocks.filter(".show"),t.build(),t.handle()},build:function(){this.$blocks.filter("[data-prev]").each((function(){var o=e(this);o.prepend('<a href="'+o.data("prev")+'" class="mobile-back mobile-open-block">Назад</a>')}))},handle:function(){var o=this;e(".mobile-open-block",o.$panel).on("click",(function(t){t.preventDefault();var n=e(this),a=o.$blocks.filter(n.attr("href"));o.$curBlock.removeClass("show"),a.addClass("show"),o.$curBlock=a,o.$panel.scrollTop(0)}))}}}},window.PROJECT=t,t.init()})();